import{r as c,c as je,j as e,R as le,u as L,a as $,F,C as ce,S as we,M as Ne,H as ke,b as Ce}from"./three-jWa-cZpp.js";import{m as v,F as de,X as Y,S as Me,U as Ae,L as Se,D as Ie,A as U,C as De,P as me,a as Re,b as Ee,c as Te,d as ie,e as he,f as _,g as Le,h as Pe,i as ze,M as Oe,j as $e,T as Fe}from"./ui-6qGzv-GM.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();let He={data:""},Be=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||He},_e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ye=/\/\*[^]*?\*\/|  +/g,re=/\n+/g,H=(t,s)=>{let a="",i="",n="";for(let r in t){let o=t[r];r[0]=="@"?r[1]=="i"?a=r+" "+o+";":i+=r[1]=="f"?H(o,r):r+"{"+H(o,r[1]=="k"?"":s)+"}":typeof o=="object"?i+=H(o,s?s.replace(/([^,])+/g,m=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,m):m?m+" "+u:u)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=H.p?H.p(r,o):r+":"+o+";")}return a+(s&&n?s+"{"+n+"}":n)+i},z={},ue=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+ue(t[a]);return s}return t},Ge=(t,s,a,i,n)=>{let r=ue(t),o=z[r]||(z[r]=(u=>{let d=0,x=11;for(;d<u.length;)x=101*x+u.charCodeAt(d++)>>>0;return"go"+x})(r));if(!z[o]){let u=r!==t?t:(d=>{let x,f,y=[{}];for(;x=_e.exec(d.replace(Ye,""));)x[4]?y.shift():x[3]?(f=x[3].replace(re," ").trim(),y.unshift(y[0][f]=y[0][f]||{})):y[0][x[1]]=x[2].replace(re," ").trim();return y[0]})(t);z[o]=H(n?{["@keyframes "+o]:u}:u,a?"":"."+o)}let m=a&&z.g?z.g:null;return a&&(z.g=z[o]),((u,d,x,f)=>{f?d.data=d.data.replace(f,u):d.data.indexOf(u)===-1&&(d.data=x?u+d.data:d.data+u)})(z[o],s,i,m),o},qe=(t,s,a)=>t.reduce((i,n,r)=>{let o=s[r];if(o&&o.call){let m=o(a),u=m&&m.props&&m.props.className||/^go/.test(m)&&m;o=u?"."+u:m&&typeof m=="object"?m.props?"":H(m,""):m===!1?"":m}return i+n+(o??"")},"");function J(t){let s=this||{},a=t.call?t(s.p):t;return Ge(a.unshift?a.raw?qe(a,[].slice.call(arguments,1),s.p):a.reduce((i,n)=>Object.assign(i,n&&n.call?n(s.p):n),{}):a,Be(s.target),s.g,s.o,s.k)}let pe,se,ae;J.bind({g:1});let O=J.bind({k:1});function Ue(t,s,a,i){H.p=s,pe=t,se=a,ae=i}function B(t,s){let a=this||{};return function(){let i=arguments;function n(r,o){let m=Object.assign({},r),u=m.className||n.className;a.p=Object.assign({theme:se&&se()},m),a.o=/ *go\d+/.test(u),m.className=J.apply(a,i)+(u?" "+u:"");let d=t;return t[0]&&(d=m.as||t,delete m.as),ae&&d[0]&&ae(m),pe(d,m)}return n}}var Ve=t=>typeof t=="function",Q=(t,s)=>Ve(t)?t(s):t,We=(()=>{let t=0;return()=>(++t).toString()})(),xe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Ke=20,ne="default",fe=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===s.toast.id?{...o,...s.toast}:o)};case 2:let{toast:i}=s;return fe(t,{type:t.toasts.find(o=>o.id===i.id)?1:0,toast:i});case 3:let{toastId:n}=s;return{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let r=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},X=[],ye={toasts:[],pausedAt:void 0,settings:{toastLimit:Ke}},T={},ge=(t,s=ne)=>{T[s]=fe(T[s]||ye,t),X.forEach(([a,i])=>{a===s&&i(T[s])})},be=t=>Object.keys(T).forEach(s=>ge(t,s)),Xe=t=>Object.keys(T).find(s=>T[s].toasts.some(a=>a.id===t)),Z=(t=ne)=>s=>{ge(s,t)},Qe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Je=(t={},s=ne)=>{let[a,i]=c.useState(T[s]||ye),n=c.useRef(T[s]);c.useEffect(()=>(n.current!==T[s]&&i(T[s]),X.push([s,i]),()=>{let o=X.findIndex(([m])=>m===s);o>-1&&X.splice(o,1)}),[s]);let r=a.toasts.map(o=>{var m,u,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((m=t[o.type])==null?void 0:m.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||Qe[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...a,toasts:r}},Ze=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||We()}),V=t=>(s,a)=>{let i=Ze(s,t,a);return Z(i.toasterId||Xe(i.id))({type:2,toast:i}),i.id},R=(t,s)=>V("blank")(t,s);R.error=V("error");R.success=V("success");R.loading=V("loading");R.custom=V("custom");R.dismiss=(t,s)=>{let a={type:3,toastId:t};s?Z(s)(a):be(a)};R.dismissAll=t=>R.dismiss(void 0,t);R.remove=(t,s)=>{let a={type:4,toastId:t};s?Z(s)(a):be(a)};R.removeAll=t=>R.remove(void 0,t);R.promise=(t,s,a)=>{let i=R.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let r=s.success?Q(s.success,n):void 0;return r?R.success(r,{id:i,...a,...a==null?void 0:a.success}):R.dismiss(i),n}).catch(n=>{let r=s.error?Q(s.error,n):void 0;r?R.error(r,{id:i,...a,...a==null?void 0:a.error}):R.dismiss(i)}),t};var et=1e3,tt=(t,s="default")=>{let{toasts:a,pausedAt:i}=Je(t,s),n=c.useRef(new Map).current,r=c.useCallback((f,y=et)=>{if(n.has(f))return;let p=setTimeout(()=>{n.delete(f),o({type:4,toastId:f})},y);n.set(f,p)},[]);c.useEffect(()=>{if(i)return;let f=Date.now(),y=a.map(p=>{if(p.duration===1/0)return;let E=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(E<0){p.visible&&R.dismiss(p.id);return}return setTimeout(()=>R.dismiss(p.id,s),E)});return()=>{y.forEach(p=>p&&clearTimeout(p))}},[a,i,s]);let o=c.useCallback(Z(s),[s]),m=c.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=c.useCallback((f,y)=>{o({type:1,toast:{id:f,height:y}})},[o]),d=c.useCallback(()=>{i&&o({type:6,time:Date.now()})},[i,o]),x=c.useCallback((f,y)=>{let{reverseOrder:p=!1,gutter:E=8,defaultPosition:b}=y||{},C=a.filter(k=>(k.position||b)===(f.position||b)&&k.height),I=C.findIndex(k=>k.id===f.id),A=C.filter((k,j)=>j<I&&k.visible).length;return C.filter(k=>k.visible).slice(...p?[A+1]:[0,A]).reduce((k,j)=>k+(j.height||0)+E,0)},[a]);return c.useEffect(()=>{a.forEach(f=>{if(f.dismissed)r(f.id,f.removeDelay);else{let y=n.get(f.id);y&&(clearTimeout(y),n.delete(f.id))}})},[a,r]),{toasts:a,handlers:{updateHeight:u,startPause:m,endPause:d,calculateOffset:x}}},st=O`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,at=O`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,it=O`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nt=B("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${st} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${at} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${it} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rt=O`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ot=B("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${rt} 1s linear infinite;
`,lt=O`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ct=O`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dt=B("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ct} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mt=B("div")`
  position: absolute;
`,ht=B("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ut=O`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pt=B("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ut} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xt=({toast:t})=>{let{icon:s,type:a,iconTheme:i}=t;return s!==void 0?typeof s=="string"?c.createElement(pt,null,s):s:a==="blank"?null:c.createElement(ht,null,c.createElement(ot,{...i}),a!=="loading"&&c.createElement(mt,null,a==="error"?c.createElement(nt,{...i}):c.createElement(dt,{...i})))},ft=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yt=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gt="0%{opacity:0;} 100%{opacity:1;}",bt="0%{opacity:1;} 100%{opacity:0;}",vt=B("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jt=B("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wt=(t,s)=>{let a=t.includes("top")?1:-1,[i,n]=xe()?[gt,bt]:[ft(a),yt(a)];return{animation:s?`${O(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${O(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Nt=c.memo(({toast:t,position:s,style:a,children:i})=>{let n=t.height?wt(t.position||s||"top-center",t.visible):{opacity:0},r=c.createElement(xt,{toast:t}),o=c.createElement(jt,{...t.ariaProps},Q(t.message,t));return c.createElement(vt,{className:t.className,style:{...n,...a,...t.style}},typeof i=="function"?i({icon:r,message:o}):c.createElement(c.Fragment,null,r,o))});Ue(c.createElement);var kt=({id:t,className:s,style:a,onHeightUpdate:i,children:n})=>{let r=c.useCallback(o=>{if(o){let m=()=>{let u=o.getBoundingClientRect().height;i(t,u)};m(),new MutationObserver(m).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return c.createElement("div",{ref:r,className:s,style:a},n)},Ct=(t,s)=>{let a=t.includes("top"),i=a?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xe()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...i,...n}},Mt=J`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,K=16,At=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:i,children:n,toasterId:r,containerStyle:o,containerClassName:m})=>{let{toasts:u,handlers:d}=tt(a,r);return c.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:K,left:K,right:K,bottom:K,pointerEvents:"none",...o},className:m,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(x=>{let f=x.position||s,y=d.calculateOffset(x,{reverseOrder:t,gutter:i,defaultPosition:s}),p=Ct(f,y);return c.createElement(kt,{id:x.id,key:x.id,onHeightUpdate:d.updateHeight,className:x.visible?Mt:"",style:p},x.type==="custom"?Q(x.message,x):n?n(x):c.createElement(Nt,{toast:x,position:f}))}))};const P={doctor:"/models/medical doctor 3d model.glb",stethoscope:"/models/stethoscope 3d model.glb",syringe:"/models/cartoon syringe 3d model.glb",pills:"/models/pill bottle 3d model.glb",dashboard:"/models/dashboard.glb"},St=["chest pain","heart attack","stroke","can't breathe","unconscious","bleeding heavily","suicide","overdose","anaphylaxis","not breathing","severe allergic reaction","seizure","poisoning","electric shock"],G=je((t,s)=>({activeModal:null,setActiveModal:a=>t({activeModal:a}),emergencyDetected:null,setEmergencyDetected:a=>t({emergencyDetected:a}),conversationHistory:[],addMessage:a=>t(i=>({conversationHistory:[...i.conversationHistory,a]})),latestAnalysis:null,setLatestAnalysis:a=>t({latestAnalysis:a}),user:{name:"User",age:30,conditions:[],medications:[],healthScore:75},notifications:[],addNotification:a=>t(i=>({notifications:[...i.notifications,{...a,id:Date.now()}]})),isLoading:!1,setIsLoading:a=>t({isLoading:a}),modelErrors:{},setModelError:(a,i)=>t(n=>({modelErrors:{...n.modelErrors,[a]:i}})),clearActiveModal:()=>t({activeModal:null}),checkEmergency:a=>{const i=a.toLowerCase();if(St.some(r=>i.includes(r))){const r={level:"critical",action:"CALL_102",message:"Emergency detected. Please seek immediate care.",countdown:10};return t({emergencyDetected:r}),r}return null}})),It="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",Dt="https://openrouter.ai/api/v1",W="tngtech/deepseek-r1t2-chimera:free",ee=async(t,s,a,i=W)=>{var n,r,o,m,u,d,x,f,y;try{const p=await fetch(`${Dt}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${It}`,"Content-Type":"application/json","HTTP-Referer":"http://localhost:3000","X-Title":"HEALIX Medical Dashboard"},body:JSON.stringify({model:i,messages:[{role:"system",content:s},...t],stream:!0,temperature:.7})});if(!p.ok){const b=await p.text();throw new Error(`API Error: ${p.status} - ${b}`)}if(a&&p.body){const b=p.body.getReader(),C=new TextDecoder;let I="";for(;;){const{done:A,value:k}=await b.read();if(A)break;const M=C.decode(k).split(`
`);for(const g of M)if(g.startsWith("data: ")){const l=g.slice(6);if(l==="[DONE]")continue;try{const h=JSON.parse(l),w=((o=(r=(n=h.choices)==null?void 0:n[0])==null?void 0:r.delta)==null?void 0:o.content)||((d=(u=(m=h.choices)==null?void 0:m[0])==null?void 0:u.message)==null?void 0:d.content);w&&(I+=w,a(I))}catch{}}}return{success:!0,content:I,isFallback:!1,model:i}}return{success:!0,content:((y=(f=(x=(await p.json()).choices)==null?void 0:x[0])==null?void 0:f.message)==null?void 0:y.content)||"",isFallback:!1,model:i}}catch(p){return console.error("OpenRouter API Error:",p.message),{success:!1,error:p.message,isFallback:!0}}},Rt=`You are Dr. AI, a board-certified physician with 15+ years of clinical experience.

RESPONSE STYLE:
- Keep responses concise and actionable (under 150 words)
- Use professional medical terminology while remaining accessible
- Be direct and confident in your assessments

STRUCTURE:
1. Brief acknowledgment
2. Likely diagnosis with confidence level
3. Key red flags to watch for
4. Clear next steps (1-3 items max)

Always include the disclaimer at the end: "This is not a medical diagnosis. Please consult a qualified healthcare professional."`,Et=async(t,s=[],a)=>{const i=s.map(n=>({role:n.role,content:n.content}));return ee(i,Rt,a,W)},Tt=async(t,s)=>ee([{role:"user",content:`Analyze this medical report: ${t}`}],`You are a medical report analyzer. 
    Extract key values, identify abnormalities, compare to normal ranges, and explain in plain language.
    Format your response as:
    1) Summary
    2) Key Findings (normal/abnormal)
    3) Recommendations
    Be clear and easy to understand for a non-medical person.`,s,W),Lt=async(t,s,a)=>ee([{role:"user",content:`Check interactions between: ${t.join(", ")} and new medication: ${s}`}],`You are a medication safety expert. 
    Check for drug interactions. List: severity (critical/moderate/minor), mechanism, recommendation.
    Be thorough and cautious - when in doubt, warn about potential interactions.`,a,W),Pt=async(t,s)=>ee([{role:"user",content:`Based on: Age: ${t.age}, History: ${t.conditions}, Recent: ${t.recentReports}, Medications: ${t.medications}`}],`You are a health predictor AI. 
    Based on user health data, predict potential risks and suggest preventive measures. 
    Be encouraging, not alarmist. Focus on actionable advice.`,s,W),ve={fever:{keywords:["fever","temperature","hot","high temperature","pyrexia"],conditions:[{name:"Common Cold",confidence:"Medium",probability:30,severity:"mild"},{name:"Flu (Influenza)",confidence:"Medium",probability:35,severity:"moderate"},{name:"Viral Infection",confidence:"Medium",probability:25,severity:"mild"},{name:"Bacterial Infection",confidence:"Low",probability:10,severity:"moderate"}],advice:"Monitor your temperature. Stay hydrated. Take paracetamol if needed. Rest well.",emergency:["chest pain","difficulty breathing","confusion","rash"]},cough:{keywords:["cough","coughing","hacking","dry cough","wet cough"],conditions:[{name:"Common Cold",confidence:"High",probability:40,severity:"mild"},{name:"Bronchitis",confidence:"Medium",probability:25,severity:"moderate"},{name:"Allergies",confidence:"Medium",probability:20,severity:"mild"},{name:"GERD/Acid Reflux",confidence:"Low",probability:15,severity:"mild"}],advice:"Stay hydrated. Honey can help soothe cough. Avoid irritants like smoke.",emergency:["coughing up blood","shortness of breath","chest pain"]},cold:{keywords:["cold","runny nose","stuffy nose","sneezing","congestion","sore throat"],conditions:[{name:"Common Cold (Viral)",confidence:"High",probability:60,severity:"mild"},{name:"Allergic Rhinitis",confidence:"Medium",probability:25,severity:"mild"},{name:"Sinusitis",confidence:"Low",probability:15,severity:"moderate"}],advice:"Rest and stay hydrated. Use saline nasal drops. Warm liquids can help soothe.",emergency:["high fever","severe headache","stiff neck"]},headache:{keywords:["headache","head pain","migraine","throbbing head","pressure in head"],conditions:[{name:"Tension Headache",confidence:"High",probability:45,severity:"mild"},{name:"Dehydration",confidence:"Medium",probability:20,severity:"mild"},{name:"Migraine",confidence:"Medium",probability:20,severity:"moderate"},{name:"Sinus Headache",confidence:"Low",probability:15,severity:"mild"}],advice:"Rest in a quiet, dark room. Stay hydrated. Over-the-counter pain relievers may help.",emergency:["sudden severe headache","weakness on one side","vision changes","confusion"]},"stomach pain":{keywords:["stomach pain","abdominal pain","stomach ache","belly pain"," tummy pain"],conditions:[{name:"Indigestion",confidence:"Medium",probability:30,severity:"mild"},{name:"Gastritis",confidence:"Medium",probability:25,severity:"mild"},{name:"Food Poisoning",confidence:"Medium",probability:20,severity:"moderate"},{name:"IBS (Irritable Bowel Syndrome)",confidence:"Low",probability:15,severity:"mild"},{name:"Appendicitis",confidence:"Low",probability:10,severity:"severe"}],advice:"Eat bland foods. Stay hydrated. Avoid fatty or spicy foods. Rest.",emergency:["severe pain","vomiting blood","blood in stool","high fever"]},"body pain":{keywords:["body pain","muscle pain","aches","joint pain","muscle ache","pain all over"],conditions:[{name:"Flu (Influenza)",confidence:"High",probability:40,severity:"moderate"},{name:"Muscle Strain",confidence:"Medium",probability:25,severity:"mild"},{name:"Fibromyalgia",confidence:"Low",probability:15,severity:"moderate"},{name:"Arthritis",confidence:"Low",probability:20,severity:"mild"}],advice:"Rest. Gentle stretching. Over-the-counter pain relievers. Warm compress.",emergency:["chest pain","difficulty breathing","unable to move"]},fatigue:{keywords:["fatigue","tired","exhausted","no energy","always sleepy","exhaustion"],conditions:[{name:"Lack of Sleep",confidence:"High",probability:35,severity:"mild"},{name:"Stress/Anxiety",confidence:"Medium",probability:25,severity:"mild"},{name:"Depression",confidence:"Medium",probability:20,severity:"moderate"},{name:"Anemia",confidence:"Low",probability:10,severity:"moderate"},{name:"Hypothyroidism",confidence:"Low",probability:10,severity:"moderate"}],advice:"Ensure adequate sleep (7-9 hours). Exercise regularly. Maintain a balanced diet.",emergency:["sudden weakness","shortness of breath","chest pain"]},nausea:{keywords:["nausea","nauseous","feel sick","want to vomit","queasy"],conditions:[{name:"Indigestion",confidence:"Medium",probability:30,severity:"mild"},{name:"Food Poisoning",confidence:"Medium",probability:25,severity:"moderate"},{name:"Pregnancy (Morning Sickness)",confidence:"Medium",probability:15,severity:"mild"},{name:"Migraine",confidence:"Low",probability:15,severity:"mild"},{name:"Gastroenteritis",confidence:"Medium",probability:15,severity:"moderate"}],advice:"Sip small amounts of clear fluids. Eat bland foods like crackers. Rest.",emergency:["vomiting blood","severe abdominal pain","confusion"]},diarrhea:{keywords:["diarrhea","loose stool","watery stool","frequent bowel movements"],conditions:[{name:"Viral Gastroenteritis",confidence:"High",probability:40,severity:"moderate"},{name:"Food Poisoning",confidence:"Medium",probability:30,severity:"moderate"},{name:"Bacterial Infection",confidence:"Medium",probability:15,severity:"moderate"},{name:"IBS Flare-up",confidence:"Low",probability:15,severity:"mild"}],advice:"Stay hydrated with electrolyte solutions. Eat bland foods. Avoid dairy and fatty foods.",emergency:["blood in stool","severe dehydration","high fever","lasts more than 3 days"]},dizziness:{keywords:["dizzy","dizziness","lightheaded","vertigo","spinning"],conditions:[{name:"Dehydration",confidence:"High",probability:35,severity:"mild"},{name:"Low Blood Sugar",confidence:"Medium",probability:25,severity:"mild"},{name:"Inner Ear Problem",confidence:"Medium",probability:20,severity:"mild"},{name:"Low Blood Pressure",confidence:"Low",probability:15,severity:"mild"},{name:"Anemia",confidence:"Low",probability:5,severity:"moderate"}],advice:"Sit or lie down slowly. Stay hydrated. Eat regular meals. Avoid sudden movements.",emergency:["chest pain","shortness of breath","slurred speech","fainting"]},chest_pain:{keywords:["chest pain","chest tightness","pain in chest","pressure in chest"],conditions:[{name:"Muscle Strain",confidence:"Medium",probability:30,severity:"mild"},{name:"Acid Reflux/GERD",confidence:"Medium",probability:25,severity:"mild"},{name:"Anxiety/Panic Attack",confidence:"Medium",probability:20,severity:"moderate"},{name:"Heart Attack",confidence:"Low",probability:15,severity:"critical"},{name:"Angina",confidence:"Low",probability:10,severity:"severe"}],advice:"Seek immediate medical attention for chest pain. Call emergency services.",emergency:["chest pain","radiating to arm","shortness of breath","sweating","nausea"]},shortness_of_breath:{keywords:["shortness of breath","breathless","cant breathe","difficulty breathing","wheezing"],conditions:[{name:"Asthma",confidence:"Medium",probability:30,severity:"moderate"},{name:"Anxiety/Panic Attack",confidence:"Medium",probability:25,severity:"moderate"},{name:"COPD",confidence:"Low",probability:15,severity:"severe"},{name:"Heart Failure",confidence:"Low",probability:10,severity:"severe"},{name:"Pulmonary Embolism",confidence:"Low",probability:10,severity:"critical"},{name:"Allergic Reaction",confidence:"Low",probability:10,severity:"severe"}],advice:"Seek immediate medical attention for breathing difficulties.",emergency:["cant breathe","blue lips","chest pain","confusion"]},sore_throat:{keywords:["sore throat","throat pain","pain when swallowing","scratchy throat"],conditions:[{name:"Viral Pharyngitis",confidence:"High",probability:50,severity:"mild"},{name:"Strep Throat",confidence:"Medium",probability:25,severity:"moderate"},{name:"Tonsillitis",confidence:"Medium",probability:15,severity:"moderate"},{name:"Allergies",confidence:"Low",probability:10,severity:"mild"}],advice:"Gargle with warm salt water. Stay hydrated. Use throat lozenges.",emergency:["difficulty breathing","difficulty swallowing","high fever"]},rash:{keywords:["rash","skin rash","hives","red skin","itchy rash"],conditions:[{name:"Allergic Reaction",confidence:"High",probability:40,severity:"moderate"},{name:"Eczema",confidence:"Medium",probability:25,severity:"mild"},{name:"Contact Dermatitis",confidence:"Medium",probability:20,severity:"mild"},{name:"Viral Infection",confidence:"Low",probability:15,severity:"mild"}],advice:"Avoid scratching. Apply moisturizer. Use antihistamines for itching.",emergency:["difficulty breathing","swelling of face","rash spreads rapidly"]},back_pain:{keywords:["back pain","lower back pain","backache","pain in back"],conditions:[{name:"Muscle Strain",confidence:"High",probability:45,severity:"mild"},{name:"Poor Posture",confidence:"Medium",probability:25,severity:"mild"},{name:"Herniated Disc",confidence:"Low",probability:15,severity:"moderate"},{name:"Kidney Stone",confidence:"Low",probability:10,severity:"severe"},{name:"Arthritis",confidence:"Low",probability:5,severity:"moderate"}],advice:"Rest but stay mobile. Apply ice/heat. Gentle stretching. Over-the-counter pain relievers.",emergency:["numbness in legs","loss of bladder control","fever"]}},zt=t=>{const s=t.toLowerCase(),a=[];for(const[i,n]of Object.entries(ve))for(const r of n.keywords)if(s.includes(r)){a.push(i);break}return a.length>0?a:["general"]},Ot=(t,s)=>{let a="";const i=t.map(n=>ve[n]).filter(Boolean);return i.length===0?a=Ft(s):a=$t(i),a},$t=(t,s)=>{var o,m,u;let a="";a+=`**Clinical Assessment**

`;const i=((o=t[0])==null?void 0:o.conditions.slice(0,3))||[];i.length>0&&(a+=`**Likely Diagnosis:**
`,i.forEach(d=>{a+=`‚Ä¢ ${d.name} (${d.confidence})
`}),a+=`
`),a+=`**Red Flags - Seek Immediate Care If:**
`,(((m=t[0])==null?void 0:m.emergency)||[]).slice(0,3).forEach(d=>{a+=`‚Ä¢ ${d}
`}),a+=`
`,a+=`**Recommendations:**
`;const r=((u=t[0])==null?void 0:u.advice)||"Monitor symptoms and rest";return a+=`${r}

`,a+=`---
‚ö†Ô∏è **Disclaimer:** This is not a medical diagnosis. Please consult a qualified healthcare professional.`,a},Ft=t=>{const s=t.toLowerCase();return s.includes("medicine")||s.includes("medication")||s.includes("drug")?`I'm unable to prescribe specific medications. Please consult your physician or pharmacist for medication advice based on your complete medical history.

‚ö†Ô∏è **Important:** Never take medication without professional medical guidance.

For emergencies, call 102.`:s.includes("healthy")||s.includes("diet")||s.includes("exercise")?`**General Health Recommendations:**
‚Ä¢ Balanced diet with fruits, vegetables, whole grains
‚Ä¢ Regular exercise (150+ minutes/week)
‚Ä¢ Adequate sleep (7-9 hours)
‚Ä¢ Stay hydrated
‚Ä¢ Stress management
‚Ä¢ Avoid smoking, limit alcohol

‚ö†Ô∏è This is general information, not personalized advice.`:s.includes("appointment")||s.includes("doctor")||s.includes("see a doctor")?`**When to See a Doctor:**
‚Ä¢ Symptoms persist > 1 week
‚Ä¢ Worsening despite home care
‚Ä¢ High fever (>103¬∞F)
‚Ä¢ Severe pain or difficulty breathing

**To schedule:** Contact your PCP or visit a walk-in clinic.

**Emergencies: Call 102 immediately.**`:`To provide accurate guidance, please describe:
‚Ä¢ When symptoms started
‚Ä¢ Severity (mild/moderate/severe)
‚Ä¢ Location of any pain
‚Ä¢ Any triggering factors

‚ö†Ô∏è **Disclaimer:** Not a substitute for professional medical advice.`},Ht=async(t,s=[],a)=>new Promise(i=>{setTimeout(()=>{const n=zt(t),r=Ot(n,t);if(a){let o="";const m=r.split(" ");let u=0;const d=()=>{u<m.length?(o+=(u>0?" ":"")+m[u],a(o),u++,setTimeout(d,30)):i({success:!0,content:r,isFallback:!0})};d()}else i({success:!0,content:r,isFallback:!0})},500)}),Bt=async(t,s)=>{const a=[],i={warfarin:["aspirin","ibuprofen","naproxen"],metformin:["alcohol"],lisinopril:["potassium"],simvastatin:["grapefruit"],amlodipine:["grapefruit"],levothyroxine:["calcium","iron"],sertraline:["tramadol","st john's wort"],escitalopram:["tramadol","st john's wort"]},n=s.toLowerCase();for(const[r,o]of Object.entries(i))if(t.some(m=>m.toLowerCase().includes(r)))for(const m of o)n.includes(m)&&a.push({severity:"moderate",drug:r,with:s,message:`${r} may interact with ${m}-containing products`});return{interactions:a,hasCritical:a.some(r=>r.severity==="critical"),isFallback:!0}},_t=({onClose:t})=>{const{conversationHistory:s,addMessage:a,addNotification:i,checkEmergency:n,setEmergencyDetected:r}=G(),[o,m]=c.useState([{id:"welcome",role:"assistant",content:`Hello! I'm Dr. AI, your medical assistant. I'm here to help you understand your symptoms and guide you toward appropriate care.

Please describe what symptoms you're experiencing, including:
‚Ä¢ When they started
‚Ä¢ Severity (mild/moderate/severe)
‚Ä¢ Any factors that worsen or improve them

I'll provide an assessment with possible causes and recommended next steps.

‚ö†Ô∏è Remember: This is not a substitute for professional medical advice.`,timestamp:Date.now()}]),[u,d]=c.useState(""),[x,f]=c.useState(!1),[y,p]=c.useState(""),[E,b]=c.useState(!0),C=c.useRef(null),I=()=>{var h;(h=C.current)==null||h.scrollIntoView({behavior:"smooth"})};c.useEffect(()=>{I()},[o,y]);const A=async()=>{if(!u.trim()||x)return;const h={id:Date.now().toString(),role:"user",content:u.trim(),timestamp:Date.now()},w=n(u.trim());if(w){m(N=>[...N,h,{id:(Date.now()+1).toString(),role:"assistant",content:`üö® ${w.message}`,isEmergency:!0,timestamp:Date.now()}]),d("");return}m(N=>[...N,h]),a(h),d(""),f(!0),p(""),b(!0);try{const N=await Et(u.trim(),s,S=>{p(S)});if(N.success&&!N.fallback){b(!0);const S={id:(Date.now()+1).toString(),role:"assistant",content:N.content,timestamp:Date.now()};m(D=>[...D.filter(q=>q.id!=="streaming"),S]),a(S),i({type:"info",message:"Diagnosis complete"})}else throw new Error("Primary failed")}catch{try{const S=await Ht(u.trim(),s,D=>{p(D)});if(S.success){b(!0);const D={id:(Date.now()+1).toString(),role:"assistant",content:S.content,timestamp:Date.now(),isFallback:!0};m(q=>[...q.filter(te=>te.id!=="streaming"),D]),a(D),i({type:"info",message:"Fallback AI diagnosis complete"})}}catch{b(!1);const D={id:(Date.now()+1).toString(),role:"assistant",content:k(u.trim()),timestamp:Date.now(),isOffline:!0};m(q=>[...q.filter(te=>te.id!=="streaming"),D]),a(D),i({type:"info",message:"Offline diagnosis complete"})}}finally{f(!1),p("")}},k=h=>{const w=h.toLowerCase();let N="";return w.includes("fever")?N=`**Assessment:**
You have reported fever symptoms.

**Possible Causes:**
‚Ä¢ Common Cold/Flu (High confidence)
‚Ä¢ Viral Infection (Medium confidence)
‚Ä¢ Bacterial Infection (Low confidence)

**Recommended Actions:**
1. Monitor temperature
2. Stay hydrated
3. Rest adequately
4. Take paracetamol if needed

**Seek immediate care if:**
‚Ä¢ Fever exceeds 103¬∞F
‚Ä¢ Chest pain or difficulty breathing
‚Ä¢ Confusion or severe headache`:w.includes("cough")?N=`**Assessment:**
You have reported cough symptoms.

**Possible Causes:**
‚Ä¢ Common Cold (High confidence)
‚Ä¢ Bronchitis (Medium confidence)
‚Ä¢ Allergies (Medium confidence)

**Recommended Actions:**
1. Stay hydrated
2. Use honey for soothing
3. Avoid smoke/irritants
4. Rest adequately`:w.includes("headache")?N=`**Assessment:**
You have reported headache symptoms.

**Possible Causes:**
‚Ä¢ Tension Headache (High confidence)
‚Ä¢ Dehydration (Medium confidence)
‚Ä¢ Migraine (Medium confidence)

**Recommended Actions:**
1. Rest in quiet, dark room
2. Stay hydrated
3. Take OTC pain relievers
4. Apply cold/heat compress`:w.includes("stomach")||w.includes("abdominal")?N=`**Assessment:**
You have reported stomach/abdominal pain.

**Possible Causes:**
‚Ä¢ Indigestion (Medium confidence)
‚Ä¢ Gastritis (Medium confidence)
‚Ä¢ Food Poisoning (Low confidence)

**Recommended Actions:**
1. Eat bland foods
2. Stay hydrated
3. Avoid spicy/fatty foods
4. Rest`:w.includes("cold")||w.includes("runny")||w.includes("congestion")?N=`**Assessment:**
You have reported cold-like symptoms.

**Possible Causes:**
‚Ä¢ Common Cold (High confidence)
‚Ä¢ Allergic Rhinitis (Medium confidence)

**Recommended Actions:**
1. Rest and stay hydrated
2. Use saline nasal drops
3. Warm fluids help
4. Humidifier may help`:N=`**Assessment:**
Thank you for describing your symptoms.

**Recommended Actions:**
1. Monitor your symptoms
2. Note when they started
3. Note severity (mild/moderate/severe)
4. Note any triggering factors

**General Advice:**
‚Ä¢ Stay hydrated
‚Ä¢ Get adequate rest
‚Ä¢ Maintain healthy diet
‚Ä¢ Consult doctor if symptoms worsen`,`${N}

‚ö†Ô∏è **Disclaimer:** This is automated medical information, not a diagnosis. Please consult a healthcare professional for proper evaluation.`},j=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),A())},M=()=>{const h=o.map(D=>`${D.role.toUpperCase()}: ${D.content}`).join(`

`),w=new Blob([h],{type:"text/plain"}),N=URL.createObjectURL(w),S=document.createElement("a");S.href=N,S.download=`healix-conversation-${Date.now()}.txt`,S.click()},g=[{label:"Fever",icon:"üå°Ô∏è",query:"I have fever"},{label:"Cough",icon:"ü´Å",query:"I have cough"},{label:"Cold",icon:"ü§ß",query:"I have cold symptoms"},{label:"Headache",icon:"ü§ï",query:"I have headache"},{label:"Stomach Pain",icon:"ü§∞",query:"I have stomach pain"},{label:"Body Pain",icon:"üí™",query:"I have body aches and pain"},{label:"Fatigue",icon:"üò¥",query:"I feel tired and fatigued"}],l=h=>{var w;d(h),(w=document.querySelector(".input-field"))==null||w.focus()};return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:t,children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl h-[80vh] glass-morphism-dark rounded-2xl overflow-hidden flex flex-col",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-healix-blue to-healix-purple flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"üë®‚Äç‚öïÔ∏è"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Dr. AI Consultation"}),e.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-2",children:["AI-Powered Symptom Analysis",E?e.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded-full flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),"Online Mode"]}):e.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded-full",children:"Offline Mode"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:M,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",title:"Export conversation",children:e.jsx(de,{size:20})}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Y,{size:24})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map(h=>e.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-3 ${h.role==="user"?"bg-healix-blue text-white":h.isEmergency?"bg-red-500/80 text-white":"bg-white/10 text-white"}`,children:[h.role==="assistant"&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm",children:"üë®‚Äç‚öïÔ∏è"}),e.jsx("span",{className:"text-xs font-semibold text-healix-cyan",children:"Dr. AI"}),h.isOffline&&e.jsx("span",{className:"text-xs text-red-400",children:"(Offline)"}),h.isFallback&&e.jsx("span",{className:"text-xs text-yellow-400",children:"(Fallback)"})]}),e.jsx("p",{className:"whitespace-pre-wrap",children:h.content}),e.jsx("p",{className:"text-xs opacity-60 mt-1",children:new Date(h.timestamp).toLocaleTimeString()})]})},h.id)),y&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"max-w-[70%] rounded-2xl px-4 py-3 bg-white/10 text-white",children:[e.jsx("p",{className:"whitespace-pre-wrap",children:y}),e.jsx("span",{className:"text-xs text-healix-cyan animate-pulse",children:"Typing..."})]})}),x&&!y&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white/10 rounded-2xl px-4 py-3 flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-healix-cyan rounded-full animate-bounce"}),e.jsx("span",{className:"w-2 h-2 bg-healix-cyan rounded-full animate-bounce animation-delay-300"}),e.jsx("span",{className:"w-2 h-2 bg-healix-cyan rounded-full animate-bounce animation-delay-500"})]})}),e.jsx("div",{ref:C})]}),e.jsxs("div",{className:"p-4 border-t border-white/10",children:[!o.length||o.length<=1?e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Quick select symptoms:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(h=>e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(h.query),disabled:x,className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full text-xs text-white flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[e.jsx("span",{children:h.icon}),e.jsx("span",{children:h.label})]},h.label))})]}):e.jsx("div",{className:"mb-3",children:e.jsxs("p",{className:"text-xs text-gray-500 mb-2 flex items-center gap-2",children:["Or describe your symptoms:",e.jsx("span",{className:"px-1.5 py-0.5 bg-blue-500/20 text-blue-400 text-xs rounded",children:"AI Active"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("textarea",{value:u,onChange:h=>d(h.target.value),onKeyPress:j,placeholder:"Describe your symptoms...",className:"flex-1 input-field resize-none h-12",rows:1}),e.jsx("button",{onClick:A,disabled:!u.trim()||x,className:"btn-primary p-3 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Me,{size:20})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"‚ö†Ô∏è This is an AI assistant. For emergencies, call 102 immediately."})]})]})})},Yt=({onClose:t})=>{var g;const{addNotification:s,setLatestAnalysis:a}=G(),[i,n]=c.useState(!1),[r,o]=c.useState(null),[m,u]=c.useState(!1),[d,x]=c.useState(null),[f,y]=c.useState(""),p=c.useCallback(l=>{l.preventDefault(),n(!1);const h=l.dataTransfer.files[0];b(h)},[]),E=l=>{const h=l.target.files[0];b(h)},b=l=>{if(!l)return;const h=["application/pdf","image/jpeg","image/png","image/dicom"],w=50*1024*1024;if(!h.includes(l.type)){s({type:"error",message:"Invalid file type. Please upload PDF, JPG, or PNG."});return}if(l.size>w){s({type:"error",message:"File too large. Maximum size is 50MB."});return}o(l);const N=new FileReader;N.onload=S=>{const D=S.target.result;typeof D=="string"&&D.length>100?y(D.substring(0,2e3)):y(`[File: ${l.name}]
Medical report content would be extracted here using OCR/PDF parsing technology.`)},l.type.startsWith("image/")?N.readAsDataURL(l):N.readAsText(l)},C=async()=>{if(!f){s({type:"error",message:"No content to analyze"});return}u(!0);try{const l=await Tt(f,h=>{x(w=>({...w,streaming:h}))});if(l.success&&!l.fallback){const h={summary:l.content,findings:k(l.content),timestamp:Date.now(),isFallback:!1};x(h),a(h),s({type:"success",message:"Analysis complete!"})}else throw new Error("Fallback to local")}catch{const h={summary:I(f),findings:A(f),timestamp:Date.now(),isFallback:!0};x(h),a(h),s({type:"success",message:"Offline analysis complete!"})}finally{u(!1)}},I=l=>`MEDICAL REPORT ANALYSIS
============================

Date: ${new Date().toLocaleString()}

SUMMARY:
Based on the provided medical report, this appears to be a ${l.toLowerCase().includes("blood")?"blood test":l.toLowerCase().includes("scan")?"medical scan":"general medical"} document.

KEY OBSERVATIONS:
‚Ä¢ Multiple health parameters were evaluated
‚Ä¢ Most values appear within normal clinical ranges
‚Ä¢ Some values may require attention - please consult your healthcare provider

RECOMMENDATIONS:
1. Follow up with your primary physician
2. Maintain a healthy lifestyle
3. Regular health check-ups
4. Monitor any symptoms you're experiencing

‚ö†Ô∏è DISCLAIMER: This is an automated analysis and should not replace professional medical advice. Please consult your doctor for proper interpretation of your results.`,A=l=>{const h=[],w=l.toLowerCase();return[{name:"Hemoglobin",key:"hemoglobin",normal:"12-16 g/dL"},{name:"WBC",key:"wbc",normal:"4,500-11,000 /ŒºL"},{name:"Platelets",key:"platelet",normal:"150,000-400,000 /ŒºL"},{name:"Glucose",key:"glucose",normal:"70-100 mg/dL"},{name:"Cholesterol",key:"cholesterol",normal:"<200 mg/dL"},{name:"Blood Pressure",key:"blood pressure",normal:"120/80 mmHg"},{name:"Heart Rate",key:"heart rate",normal:"60-100 bpm"}].forEach(S=>{h.push({parameter:S.name,value:"See Report",range:S.normal,status:w.includes(S.key)?"attention":"normal"})}),h.length>0?h:[{parameter:"Overall Health",value:"Review Needed",range:"N/A",status:"attention"},{parameter:"Consultation",value:"Recommended",range:"N/A",status:"normal"}]},k=l=>[{parameter:"Blood Pressure",value:"120/80",range:"90-120 / 60-80",status:"normal"},{parameter:"Heart Rate",value:"72",range:"60-100",status:"normal"},{parameter:"Glucose",value:"95",range:"70-100",status:"normal"},{parameter:"Cholesterol",value:"210",range:"<200",status:"attention"}],j=()=>{var S;const l=`
MEDICAL REPORT ANALYSIS
=======================
Generated by HEALIX AI
Date: ${new Date().toLocaleString()}

${(d==null?void 0:d.summary)||"No analysis available."}

Key Findings:
${((S=d==null?void 0:d.findings)==null?void 0:S.map(D=>`- ${D.parameter}: ${D.value} (${D.status})`).join(`
`))||"None"}
    `.trim(),h=new Blob([l],{type:"text/plain"}),w=URL.createObjectURL(h),N=document.createElement("a");N.href=w,N.download=`healix-analysis-${Date.now()}.pdf`,N.click()},M=l=>{const h={normal:{color:"bg-green-500",icon:e.jsx(De,{size:14})},attention:{color:"bg-yellow-500",icon:e.jsx(U,{size:14})},critical:{color:"bg-red-500",icon:e.jsx(U,{size:14})}};return h[l]||h.normal};return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:t,children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl max-h-[90vh] glass-morphism-dark rounded-2xl overflow-hidden flex flex-col",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ü©∫"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Report Analyzer"}),e.jsx("p",{className:"text-sm text-gray-400",children:"AI-Powered Medical Report Analysis"})]})]}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Y,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl",children:[e.jsx(de,{className:"text-healix-blue"}),e.jsx("span",{className:"text-white flex-1",children:r.name}),e.jsx("button",{onClick:()=>{o(null),y(""),x(null)},className:"text-gray-400 hover:text-white",children:"Change"})]}),f&&e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"üìÑ Extracted Content"}),e.jsx("p",{className:"text-white text-sm max-h-32 overflow-y-auto",children:f})]}),e.jsx("button",{onClick:C,disabled:m||!f,className:"btn-primary w-full disabled:opacity-50",children:m?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(Se,{className:"animate-spin"})," Analyzing..."]}):"üîç Analyze with AI"}),d&&e.jsxs("div",{className:"space-y-4 mt-6",children:[d.isFallback&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-yellow-400",children:"Offline Analysis"})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"üìä AI Analysis"}),e.jsx("p",{className:"text-white whitespace-pre-wrap",children:d.summary})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"üìã Key Findings"}),e.jsx("div",{className:"space-y-2",children:(g=d.findings)==null?void 0:g.map((l,h)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:l.parameter}),e.jsx("span",{className:"text-gray-400 text-sm ml-2",children:l.value})]}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${M(l.status).color}`,children:[M(l.status).icon,e.jsx("span",{className:"text-white capitalize",children:l.status})]})]},h))})]}),e.jsxs("button",{onClick:j,className:"btn-secondary w-full",children:[e.jsx(Ie,{className:"inline mr-2"})," Download Report"]})]})]}):e.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${i?"border-red-500 bg-red-500/10":"border-white/20 hover:border-healix-blue"}`,onDragOver:l=>{l.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(Ae,{className:"w-16 h-16 mx-auto text-healix-blue mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Upload Medical Report"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Drag & drop or click to browse"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-500",children:[e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full",children:"PDF"}),e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full",children:"JPG"}),e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full",children:"PNG"}),e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full",children:"DICOM"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Maximum file size: 50MB"}),e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.dcm",onChange:E,className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"btn-primary mt-6 inline-block cursor-pointer",children:"Choose File"})]})})]})})},Gt=({onClose:t})=>{const{addNotification:s}=G(),[a,i]=c.useState("month"),[n,r]=c.useState(new Date),[o,m]=c.useState(!1),[u,d]=c.useState([{id:1,name:"COVID-19 Vaccine",type:"vaccination",date:"2024-01-15",status:"completed"},{id:2,name:"Blood Pressure Check",type:"appointment",date:"2024-01-20",status:"upcoming"},{id:3,name:"Metformin",type:"medication",date:"2024-01-10",status:"taken"},{id:4,name:"Flu Shot",type:"vaccination",date:"2024-01-25",status:"upcoming"}]),[x,f]=c.useState({name:"",type:"vaccination",date:"",notes:""}),y=l=>({vaccination:"bg-blue-500",medication:"bg-green-500",appointment:"bg-orange-500"})[l]||"bg-gray-500",p=l=>({completed:"text-green-400",taken:"text-green-400",upcoming:"text-healix-cyan",past:"text-gray-400"})[l]||"text-gray-400",E=()=>{if(!x.name||!x.date){s({type:"error",message:"Please fill in required fields"});return}const l={id:Date.now(),...x,status:"upcoming"};d(h=>[...h,l]),f({name:"",type:"vaccination",date:"",notes:""}),m(!1),s({type:"success",message:"Treatment added successfully!"})},b=l=>{d(h=>h.map(w=>w.id===l?{...w,status:"completed"}:w)),s({type:"success",message:"Treatment marked as complete!"})},C=l=>new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),I=l=>new Date(l.getFullYear(),l.getMonth(),1).getDay(),A=l=>{r(new Date(n.getFullYear(),n.getMonth()+l,1))},k=C(n),j=I(n),M=new Date().getDate(),g=[];for(let l=0;l<j;l++)g.push(null);for(let l=1;l<=k;l++)g.push(l);return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:t,children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl max-h-[90vh] glass-morphism-dark rounded-2xl overflow-hidden flex flex-col",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"üíâ"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Treatment Tracker"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Vaccinations & Appointments"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>m(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(me,{size:18})," Add Treatment"]}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Y,{size:24})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>A(-1),className:"p-2 hover:bg-white/10 rounded-lg",children:e.jsx(Re,{})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:n.toLocaleString("default",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>A(1),className:"p-2 hover:bg-white/10 rounded-lg",children:e.jsx(Ee,{})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(l=>e.jsx("div",{className:"text-center text-xs text-gray-400 py-2",children:l},l))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:g.map((l,h)=>e.jsx("div",{className:`aspect-square flex items-center justify-center rounded-lg text-sm ${l===M?"bg-healix-blue text-white font-bold":l?"hover:bg-white/10 cursor-pointer":""}`,children:l},h))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Upcoming & Recent"}),u.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(Te,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No treatments scheduled"})]}):u.map(l=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-xl flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${y(l.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:l.name}),e.jsxs("div",{className:"text-gray-400 text-sm flex items-center gap-2",children:[e.jsx(ie,{size:12}),new Date(l.date).toLocaleDateString(),e.jsxs("span",{className:p(l.status),children:["(",l.status,")"]})]})]}),l.status==="upcoming"&&e.jsx("button",{onClick:()=>b(l.id),className:"p-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors",children:e.jsx(he,{size:16})})]},l.id))]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400",children:u.filter(l=>l.status==="completed").length}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Completed"})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-healix-cyan",children:u.filter(l=>l.status==="upcoming").length}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Upcoming"})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-400",children:u.filter(l=>l.status==="overdue").length}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Overdue"})]})]})]}),e.jsx(_,{children:o&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:()=>m(!1),children:e.jsxs(v.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"w-full max-w-md p-6 glass-morphism-dark rounded-2xl",onClick:l=>l.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Treatment"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Type"}),e.jsxs("select",{value:x.type,onChange:l=>f(h=>({...h,type:l.target.value})),className:"input-field",children:[e.jsx("option",{value:"vaccination",children:"Vaccination"}),e.jsx("option",{value:"medication",children:"Medication"}),e.jsx("option",{value:"appointment",children:"Checkup"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Name"}),e.jsx("input",{type:"text",value:x.name,onChange:l=>f(h=>({...h,name:l.target.value})),placeholder:"e.g., Flu Shot, Metformin",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Date"}),e.jsx("input",{type:"date",value:x.date,onChange:l=>f(h=>({...h,date:l.target.value})),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:x.notes,onChange:l=>f(h=>({...h,notes:l.target.value})),placeholder:"Additional notes...",className:"input-field resize-none",rows:3})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>m(!1),className:"flex-1 btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:E,className:"flex-1 btn-primary",children:"Add Treatment"})]})]})]})})})]})})},qt=({onClose:t})=>{const{addNotification:s,user:a}=G(),[i,n]=c.useState(!1),[r,o]=c.useState(!1),[m,u]=c.useState(""),[d,x]=c.useState(null),[f,y]=c.useState(!1),[p,E]=c.useState([{id:1,name:"Metformin",dosage:"500mg",frequency:"Twice daily",nextDose:"2 hours",adherence:95},{id:2,name:"Lisinopril",dosage:"10mg",frequency:"Once daily",nextDose:"8 hours",adherence:88},{id:3,name:"Aspirin",dosage:"81mg",frequency:"Once daily",nextDose:"1 hour",adherence:100}]),[b,C]=c.useState({name:"",dosage:"",frequency:"Once daily",duration:""}),I=()=>{if(!b.name||!b.dosage){s({type:"error",message:"Please fill in required fields"});return}const g={id:Date.now(),...b,nextDose:"24 hours",adherence:100};E(l=>[...l,g]),C({name:"",dosage:"500mg",frequency:"Once daily",duration:""}),n(!1),s({type:"success",message:"Medication added!"})},A=g=>{s({type:"success",message:"Dose marked as taken!"})},k=g=>{s({type:"info",message:"Dose skipped"})},j=async()=>{if(!m){s({type:"error",message:"Enter a medication name to check"});return}y(!0);try{const g=p.map(h=>h.name),l=await Lt(g,m);if(l.success&&!l.isFallback)x({content:l.content,checked:!0,isFallback:!1});else throw new Error("Fallback needed")}catch{const l=p.map(w=>w.name),h=await Bt(l,m);if(h.interactions.length>0||h.hasCritical){const w=`DRUG INTERACTION CHECK (Offline Mode)
=====================================

Medication: ${m}

Interactions Found: ${h.interactions.length}

${h.interactions.map(N=>`‚ö†Ô∏è ${N.severity.toUpperCase()} INTERACTION
  ${N.drug} + ${N.with}
  ${N.message}
`).join(`
`)}

${h.hasCritical?`üö® CRITICAL INTERACTION DETECTED
Please consult your doctor before taking this medication.`:"No critical interactions found."}

‚ö†Ô∏è Disclaimer: This is automated checking. Always consult your pharmacist or doctor.`;x({content:w,checked:!0,isFallback:!0,hasCritical:h.hasCritical})}else x({content:`‚úÖ No known interactions found between your current medications and ${m}.

‚ö†Ô∏è Disclaimer: This is automated checking. Always consult your pharmacist or doctor before starting new medications.`,checked:!0,isFallback:!0,hasCritical:!1})}finally{y(!1)}},M=g=>g>=90?"text-green-400":g>=75?"text-yellow-400":"text-red-400";return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:t,children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl max-h-[90vh] glass-morphism-dark rounded-2xl overflow-hidden flex flex-col",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"üíä"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Medication Manager"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Track & Manage Your Medications"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center gap-2",children:[e.jsx(U,{size:18})," Check Interactions"]}),e.jsxs("button",{onClick:()=>n(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(me,{size:18})," Add Medication"]}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Y,{size:24})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Current Medications"}),p.map(g=>e.jsx("div",{className:"p-4 bg-white/5 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:e.jsx(Le,{className:"text-yellow-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-semibold",children:g.name}),e.jsx("span",{className:"text-gray-400 text-sm",children:g.dosage})]}),e.jsx("div",{className:"text-gray-400 text-sm",children:g.frequency}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-healix-cyan",children:[e.jsx(ie,{size:14}),e.jsxs("span",{className:"text-sm",children:["Next dose: ",g.nextDose]})]}),e.jsxs("div",{className:`font-semibold ${M(g.adherence)}`,children:[g.adherence,"%"]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs("button",{onClick:()=>A(g.id),className:"flex-1 py-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors flex items-center justify-center gap-1",children:[e.jsx(he,{size:16})," Take"]}),e.jsx("button",{onClick:()=>k(g.id),className:"flex-1 py-2 bg-gray-500/20 text-gray-400 rounded-lg hover:bg-gray-500/30 transition-colors",children:"Skip"})]})]})]})},g.id))]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Adherence Overview"}),e.jsx("div",{className:"p-6 bg-white/5 rounded-xl text-center mb-4",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[e.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"rgba(255,255,255,0.1)",strokeWidth:"12",fill:"none"}),e.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#10b981",strokeWidth:"12",fill:"none",strokeDasharray:`${p.reduce((g,l)=>g+l.adherence,0)/p.length/100*352} 352`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-white",children:[Math.round(p.reduce((g,l)=>g+l.adherence,0)/p.length),"%"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Overall"})]})})]})}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:"üîî Refill Reminders"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-500/10 rounded-lg",children:[e.jsx("span",{className:"text-yellow-400",children:"Metformin"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"7 days left"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-500/10 rounded-lg",children:[e.jsx("span",{className:"text-green-400",children:"Lisinopril"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"15 days left"})]})]})]})]})]})}),e.jsx(_,{children:i&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:()=>n(!1),children:e.jsxs(v.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"w-full max-w-md p-6 glass-morphism-dark rounded-2xl",onClick:g=>g.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Medication"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Medication Name"}),e.jsx("input",{type:"text",value:b.name,onChange:g=>C(l=>({...l,name:g.target.value})),placeholder:"e.g., Metformin",className:"input-field"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Dosage"}),e.jsx("input",{type:"text",value:b.dosage,onChange:g=>C(l=>({...l,dosage:g.target.value})),placeholder:"e.g., 500mg",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Frequency"}),e.jsxs("select",{value:b.frequency,onChange:g=>C(l=>({...l,frequency:g.target.value})),className:"input-field",children:[e.jsx("option",{children:"Once daily"}),e.jsx("option",{children:"Twice daily"}),e.jsx("option",{children:"Three times daily"}),e.jsx("option",{children:"As needed"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex-1 btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:I,className:"flex-1 btn-primary",children:"Add"})]})]})]})})}),e.jsx(_,{children:r&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:()=>{o(!1),x(null),u("")},children:e.jsxs(v.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"w-full max-w-md p-6 glass-morphism-dark rounded-2xl",onClick:g=>g.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Drug Interaction Checker"}),d?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-xl ${d.error?"bg-red-500/20":"bg-yellow-500/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{className:d.error?"text-red-400":"text-yellow-400"}),e.jsx("span",{className:"font-semibold text-white",children:d.error?"Warning":"Interaction Check Results"})]}),e.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:d.content})]}),e.jsx("button",{onClick:()=>{x(null),u("")},className:"btn-secondary w-full",children:"Check Another"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Check if a new medication interacts with your current medications."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"New Medication"}),e.jsx("input",{type:"text",value:m,onChange:g=>u(g.target.value),placeholder:"e.g., Ibuprofen",className:"input-field"})]}),e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Current medications:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:p.map(g=>e.jsx("span",{className:"px-2 py-1 bg-white/10 rounded text-sm text-white",children:g.name},g.id))})]}),e.jsx("button",{onClick:j,disabled:f||!m,className:"btn-primary w-full disabled:opacity-50",children:f?"Checking...":"Check Interactions"})]})]})})})]})})},Ut=({emergency:t,onClose:s,onCancel:a})=>{const[i,n]=c.useState((t==null?void 0:t.countdown)||10),[r,o]=c.useState(!1);c.useEffect(()=>{if(!t)return;const d=setInterval(()=>{n(x=>x<=1?(clearInterval(d),m(),0):x-1)},1e3);return()=>clearInterval(d)},[t]);const m=()=>{o(!0),setTimeout(()=>{window.open("tel:102","_self")},1e3)},u=()=>{a()};return t?e.jsx(_,{children:e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90",children:[e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[e.jsx("div",{className:"w-96 h-96 rounded-full border-4 border-red-500 emergency-flash"}),e.jsx("div",{className:"absolute w-80 h-80 rounded-full border-4 border-red-400 emergency-flash animation-delay-300"}),e.jsx("div",{className:"absolute w-64 h-64 rounded-full border-4 border-red-300 emergency-flash animation-delay-500"})]}),e.jsx(v.div,{initial:{scale:.8},animate:{scale:1},className:"relative z-10 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(U,{className:"w-12 h-12 text-red-500"})}),e.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-2",children:"EMERGENCY DETECTED"}),e.jsx("p",{className:"text-gray-300 mb-6",children:t.message}),e.jsxs("div",{className:"p-4 bg-red-500/10 rounded-xl mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xl font-bold text-red-400 mb-2",children:[e.jsx(Pe,{className:"animate-pulse"}),"Calling Ambulance (102)"]}),e.jsxs("div",{className:"text-gray-400",children:["Auto-dial in ",e.jsx("span",{className:"text-red-400 font-bold text-2xl",children:i})," seconds"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("button",{onClick:m,className:"py-4 bg-red-500 text-white font-bold rounded-xl hover:bg-red-400 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ze,{size:20})," Call Now"]}),e.jsxs("button",{onClick:u,className:"py-4 bg-white/10 text-white font-bold rounded-xl hover:bg-white/20 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Y,{size:20})," Cancel"]})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[e.jsx(Oe,{size:16}),e.jsx("span",{className:"text-sm",children:"Location will be shared with emergency services"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"In life-threatening situations, also call your local emergency number immediately."})]})]})})]})}):null},Vt=({onClose:t,onNavigate:s})=>{const{user:a,addNotification:i}=G(),[n,r]=c.useState(null),[o,m]=c.useState(!0),u=75,d=[{id:1,action:"Consultation with Dr. AI",time:"2 hours ago",icon:"üë®‚Äç‚öïÔ∏è"},{id:2,action:"Blood test analyzed",time:"5 hours ago",icon:"ü©∏"},{id:3,action:"Medication taken",time:"8 hours ago",icon:"üíä"}],x=[{id:1,title:"Metformin",time:"In 2 hours",type:"medication"},{id:2,title:"Dr. Appointment",time:"Tomorrow, 10:00 AM",type:"appointment"},{id:3,title:"Flu Shot",time:"In 5 days",type:"vaccination"}];c.useEffect(()=>{(async()=>{try{const C={age:a.age||30,conditions:a.conditions||[],recentReports:[],medications:a.medications||[]},I=await Pt(C,A=>{r({streaming:A})});I.success&&r({content:I.content})}catch{r({content:"Unable to load insights at this time."})}finally{m(!1)}})()},[a]);const y=(b=>({color:"#10b981",label:"Good"}))(),p=b=>{s&&s(b),t()},E=[{id:"doctor",icon:"üë®‚Äç‚öïÔ∏è",label:"Dr. AI",section:0,color:"from-blue-500 to-cyan-500"},{id:"analyzer",icon:"ü©∫",label:"Analyzer",section:1,color:"from-red-500 to-pink-500"},{id:"tracker",icon:"üíâ",label:"Tracker",section:2,color:"from-green-500 to-emerald-500"},{id:"medication",icon:"üíä",label:"Medications",section:3,color:"from-yellow-500 to-orange-500"}];return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:t,children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-5xl max-h-[90vh] glass-morphism-dark rounded-2xl overflow-hidden",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-healix-blue to-healix-purple flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üìä"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Health Dashboard"}),e.jsx("p",{className:"text-gray-400",children:"Your complete health overview"})]})]}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Y,{size:24})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-100px)]",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 p-6 bg-gradient-to-br from-white/10 to-white/5 rounded-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Health Score"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Based on your recent activity"})]}),e.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-semibold",style:{background:`${y.color}20`,color:y.color},children:y.label})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"w-40 h-40 transform -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"rgba(255,255,255,0.1)",strokeWidth:"12",fill:"none"}),e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:y.color,strokeWidth:"12",fill:"none",strokeDasharray:`${u/100*440} 440`,strokeLinecap:"round",className:"transition-all duration-1000"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"text-5xl font-bold text-white",children:u}),e.jsx("div",{className:"text-gray-400 text-sm",children:"out of 100"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx($e,{className:"text-healix-cyan mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"72"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Avg. Heart Rate"})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx(Fe,{className:"text-green-400 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"7,842"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Steps Today"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Quick Access"}),e.jsx("div",{className:"flex gap-2",children:E.map(b=>e.jsxs("button",{onClick:()=>p(b.section),className:`flex-1 p-3 rounded-xl bg-gradient-to-r ${b.color} opacity-80 hover:opacity-100 transition-opacity flex flex-col items-center gap-1`,children:[e.jsx("span",{className:"text-xl",children:b.icon}),e.jsx("span",{className:"text-xs text-white",children:b.label})]},b.id))})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:d.map(b=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-xl",children:b.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white text-sm",children:b.action}),e.jsxs("div",{className:"text-gray-400 text-xs flex items-center gap-1",children:[e.jsx(ie,{size:10})," ",b.time]})]})]},b.id))})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Upcoming"}),e.jsx("div",{className:"space-y-2",children:x.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${b.type==="medication"?"bg-green-400":b.type==="appointment"?"bg-orange-400":"bg-blue-400"}`}),e.jsx("span",{className:"text-white text-sm",children:b.title})]}),e.jsx("span",{className:"text-gray-400 text-xs",children:b.time})]},b.id))})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-healix-purple/20 to-healix-blue/20 rounded-2xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"‚ú®"})," AI Health Insights"]}),o?e.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-healix-cyan border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Analyzing your health data..."})]}):e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:(n==null?void 0:n.content)||(n==null?void 0:n.streaming)||"Based on your activity, you're maintaining good health habits! Keep up with your medications and regular checkups. Your heart health metrics are within normal range. Remember to stay hydrated and get 7-8 hours of sleep daily."})]})]})]})})};class ps extends le.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}render(){return this.state.hasError?this.props.fallback||null:this.props.children}}const Wt=({onClick:t})=>{const s=c.useRef(),[a,i]=c.useState(!1),n=L(P.doctor);$(o=>{s.current&&(s.current.position.y=Math.sin(o.clock.elapsedTime*1.5)*.15)});const r=()=>{t&&t()};return e.jsx(F,{speed:2,rotationIntensity:.1,floatIntensity:.3,floatingRange:[-.2,.2],children:e.jsx("group",{ref:s,scale:a?1.03:1,position:[0,0,0],onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),onClick:r,children:e.jsx("primitive",{object:n.scene,scale:3,position:[0,-2,0]})})})};L.preload(P.doctor);const Kt=({onClick:t})=>{const s=c.useRef(),[a,i]=c.useState(!1),n=L(P.stethoscope);$(o=>{s.current&&(a||(s.current.rotation.y+=.003))});const r=()=>{t&&t()};return e.jsx(F,{speed:1.5,rotationIntensity:.2,floatIntensity:.3,floatingRange:[-.2,.2],children:e.jsx("group",{ref:s,scale:a?1.1:1,position:[0,0,0],onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),onClick:r,children:e.jsx("primitive",{object:n.scene,scale:4,position:[0,-1.5,0]})})})};L.preload(P.stethoscope);const Xt=({onClick:t})=>{const s=c.useRef(),[a,i]=c.useState(!1),n=L(P.syringe);$(o=>{s.current&&(s.current.position.y=Math.sin(o.clock.elapsedTime*1.5+1)*.15,s.current.rotation.z=Math.sin(o.clock.elapsedTime*.5)*.05)});const r=()=>{t&&t()};return e.jsx(F,{speed:2,rotationIntensity:.2,floatIntensity:.3,floatingRange:[-.2,.2],children:e.jsx("group",{ref:s,scale:a?1.1:1,rotation:[0,0,Math.PI/6],position:[0,0,0],onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),onClick:r,children:e.jsx("primitive",{object:n.scene,scale:4,position:[0,-1,0]})})})};L.preload(P.syringe);const Qt=({onClick:t})=>{const s=c.useRef(),[a,i]=c.useState(!1),n=L(P.pills);$(o=>{s.current&&(a||(s.current.rotation.y+=.005))});const r=()=>{t&&t()};return e.jsx(F,{speed:1.5,rotationIntensity:.1,floatIntensity:.3,floatingRange:[-.2,.2],children:e.jsx("group",{ref:s,scale:a?1.1:1,position:[0,0,0],onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),onClick:r,children:e.jsx("primitive",{object:n.scene,scale:4,position:[0,-1.5,0]})})})};L.preload(P.pills);const Jt=({onClick:t})=>{const s=c.useRef(),[a,i]=c.useState(!1),n=L(P.dashboard);$(o=>{s.current&&(s.current.position.y=Math.sin(o.clock.elapsedTime*1+2)*.1,s.current.rotation.y+=.002)});const r=()=>{t&&t()};return e.jsx(F,{speed:1.5,rotationIntensity:.15,floatIntensity:.2,floatingRange:[-.15,.15],children:e.jsx("group",{ref:s,scale:a?1.03:1,position:[0,0,0],onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),onClick:r,children:e.jsx("primitive",{object:n.scene,scale:3,position:[0,-1,0]})})})};L.preload(P.dashboard);const oe="yusufhealth@io",Zt=()=>e.jsxs("mesh",{children:[e.jsx("icosahedronGeometry",{args:[.5,0]}),e.jsx("meshStandardMaterial",{color:"#6366f1",wireframe:!0})]}),es=()=>{const t=c.useRef();$(i=>{t.current&&(t.current.rotation.y=i.clock.elapsedTime*.1)});const s=[],a=40;for(let i=0;i<a;i++){const n=(i-a/2)*1,r=i*.35,o=Math.cos(r)*1.2,m=Math.sin(r)*1.2,u=-Math.cos(r)*1.2,d=-Math.sin(r)*1.2;s.push(e.jsxs("group",{children:[e.jsxs("mesh",{position:[o,n,m],children:[e.jsx("sphereGeometry",{args:[.12,12,12]}),e.jsx("meshStandardMaterial",{color:"#00ffff",emissive:"#00ffff",emissiveIntensity:.5})]}),e.jsxs("mesh",{position:[u,n,d],children:[e.jsx("sphereGeometry",{args:[.12,12,12]}),e.jsx("meshStandardMaterial",{color:"#a855f7",emissive:"#a855f7",emissiveIntensity:.5})]}),i<a-1&&e.jsxs("mesh",{position:[0,n+.5,0],rotation:[0,0,Math.PI/2],children:[e.jsx("cylinderGeometry",{args:[.03,.03,2.4,6]}),e.jsx("meshStandardMaterial",{color:"#00ffff",transparent:!0,opacity:.2})]})]},i))}return e.jsx(F,{speed:.2,rotationIntensity:0,floatIntensity:.1,children:e.jsx("group",{ref:t,position:[-25,0,-20],children:s})})},ts=()=>{const t=[{position:[-8,15,-15],color:"#ef4444",scale:1.5,rotation:[.5,.3,0]},{position:[8,8,-12],color:"#22c55e",scale:1.2,rotation:[.2,.5,.3]},{position:[-6,-5,-18],color:"#f97316",scale:1.3,rotation:[.4,.2,.5]},{position:[7,-12,-15],color:"#06b6d4",scale:1,rotation:[.3,.4,.2]}];return e.jsx(e.Fragment,{children:t.map((s,a)=>e.jsx(F,{speed:.5+a*.1,rotationIntensity:.3,floatIntensity:.5,children:e.jsxs("mesh",{position:s.position,scale:s.scale,rotation:s.rotation,children:[e.jsx("capsuleGeometry",{args:[.2,.8,4,12]}),e.jsx("meshStandardMaterial",{color:s.color,emissive:s.color,emissiveIntensity:.4})]})},a))})},ss=()=>{const t=c.useRef();$(a=>{if(t.current){const i=Math.sin(a.clock.elapsedTime*1.5)*.05+1;t.current.scale.set(i,i,i)}});const s=[{position:[12,5,-15],color:"#ef4444",size:.12},{position:[12,-15,-12],color:"#22c55e",size:.1},{position:[12,-30,-15],color:"#f97316",size:.14}];return e.jsx(e.Fragment,{children:s.map((a,i)=>e.jsx(F,{speed:.4,rotationIntensity:.1,floatIntensity:.3,children:e.jsxs("group",{ref:t,position:a.position,children:[e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[a.size*2,12,12]}),e.jsx("meshStandardMaterial",{color:a.color,emissive:a.color,emissiveIntensity:1,transparent:!0,opacity:.8})]}),e.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[e.jsx("torusGeometry",{args:[a.size*3,a.size*.3,8,24]}),e.jsx("meshStandardMaterial",{color:a.color,emissive:a.color,emissiveIntensity:.5,transparent:!0,opacity:.3})]})]})},i))})},as=()=>{const t=c.useRef(),s=c.useRef();return $(a=>{if(t.current){const i=Math.sin(a.clock.elapsedTime*3)*.08+1;t.current.scale.set(i,i,i),t.current.rotation.y=Math.sin(a.clock.elapsedTime*.3)*.1}if(s.current){const i=Math.sin(a.clock.elapsedTime*3)*.3+.7;s.current.emissiveIntensity=i}}),e.jsx(F,{speed:.4,rotationIntensity:.3,floatIntensity:.3,children:e.jsxs("group",{ref:t,position:[15,-15,-20],children:[e.jsxs("group",{scale:2.5,children:[e.jsxs("mesh",{position:[-.4,.3,0],children:[e.jsx("sphereGeometry",{args:[.5,32,32]}),e.jsx("meshStandardMaterial",{ref:s,color:"#ef4444",emissive:"#dc2626",emissiveIntensity:.7,roughness:.3,metalness:.2})]}),e.jsxs("mesh",{position:[.4,.3,0],children:[e.jsx("sphereGeometry",{args:[.5,32,32]}),e.jsx("meshStandardMaterial",{color:"#ef4444",emissive:"#dc2626",emissiveIntensity:.7,roughness:.3,metalness:.2})]}),e.jsxs("mesh",{position:[0,-.5,0],children:[e.jsx("sphereGeometry",{args:[.45,32,32]}),e.jsx("meshStandardMaterial",{color:"#ef4444",emissive:"#dc2626",emissiveIntensity:.7,roughness:.3,metalness:.2})]})]}),e.jsxs("mesh",{position:[0,0,0],children:[e.jsx("sphereGeometry",{args:[2,16,16]}),e.jsx("meshBasicMaterial",{color:"#ef4444",transparent:!0,opacity:.15})]}),e.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[2.5,2.6,64]}),e.jsx("meshBasicMaterial",{color:"#ef4444",transparent:!0,opacity:.3})]})]})})},is=()=>e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.4}),e.jsx("directionalLight",{position:[20,30,10],intensity:.8}),e.jsx("directionalLight",{position:[-20,-30,-10],intensity:.3,color:"#8b5cf6"}),e.jsx(we,{radius:200,depth:100,count:2e3,factor:4,saturation:0,fade:!0,speed:.15}),e.jsx(es,{}),e.jsx(ts,{}),e.jsx(ss,{}),e.jsx(as,{})]}),ns=({model:t,onClick:s,index:a,rotationY:i=0,scale:n=1,positionY:r=0,autoRotate:o=!1,label:m="",isVisible:u=!1})=>{const[d,x]=c.useState(!1),f=c.useRef(),[y,p]=c.useState(!1);c.useEffect(()=>{p(!!u)},[u]),$(C=>{if(f.current){const I=y?n:0,A=f.current.scale.x,k=Ne.lerp(A,I,.08);f.current.scale.setScalar(k),o&&(f.current.rotation.y+=.001),f.current.position.y=r+Math.sin(C.clock.elapsedTime*.5+a)*.03}});const b=(()=>{switch(m){case"Dr. AI":return{gradient:"from-cyan-400 via-blue-500 to-purple-600",icon:"üß†",text:"Dr. AI"};case"Analyzer":return{gradient:"from-green-400 via-emerald-500 to-teal-600",icon:"üìä",text:"Report Analyzer"};case"Tracker":return{gradient:"from-orange-400 via-red-500 to-pink-600",icon:"üíâ",text:"Treatment Tracker"};case"Medications":return{gradient:"from-purple-400 via-violet-500 to-indigo-600",icon:"üíä",text:"Medication Manager"};case"Dashboard":return{gradient:"from-amber-400 via-yellow-500 to-orange-600",icon:"üìà",text:"Health Overview"};default:return{gradient:"from-cyan-400 to-purple-600",icon:"‚ö°",text:m}}})();return e.jsxs(e.Fragment,{children:[e.jsx("group",{ref:f,scale:0,rotation:[0,i,0],onPointerOver:()=>x(!0),onPointerOut:()=>x(!1),onClick:s,style:{transition:"none"},children:e.jsx(t,{})}),e.jsx(ke,{position:[0,r+.5,0],center:!0,distanceFactor:10,children:e.jsxs(v.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:d?1:0,scale:d?1:.5,y:d?0:20},transition:{duration:.4,scale:{type:"spring",stiffness:300,damping:20},opacity:{duration:.2}},className:"relative",children:[e.jsx("div",{className:`absolute -inset-2 bg-gradient-to-r ${b.gradient} rounded-xl blur-lg opacity-60`,style:{animation:"pulseGlow 2s ease-in-out infinite"}}),e.jsxs("div",{className:"relative bg-gray-900/90 backdrop-blur-md border border-white/20 rounded-xl px-5 py-3 shadow-[0_0_30px_rgba(0,0,0,0.5)]",style:{boxShadow:"0 0 20px rgba(34, 211, 238, 0.3), inset 0 0 20px rgba(0,0,0,0.3)"},children:[e.jsx("div",{className:"absolute top-0 left-2 right-2 h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent opacity-60"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v.span,{className:"text-xl",animate:{scale:d?[1,1.2,1]:1,rotate:d?[0,10,-10,0]:0},transition:{duration:.5,repeat:1/0,repeatDelay:1},children:b.icon}),e.jsx("p",{className:"text-sm font-bold whitespace-nowrap bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${b.gradient.replace("from-","").replace(" via-",",").replace(" to-",",")})`},children:b.text}),e.jsxs(v.div,{className:"flex gap-1 ml-2",initial:{opacity:0},animate:{opacity:d?1:0},transition:{delay:.2},children:[e.jsx(v.div,{className:"w-1.5 h-1.5 rounded-full bg-cyan-400",animate:{scale:[1,1.5,1]},transition:{duration:.8,repeat:1/0}}),e.jsx(v.div,{className:"w-1.5 h-1.5 rounded-full bg-cyan-400",animate:{scale:[1,1.5,1]},transition:{duration:.8,repeat:1/0,delay:.2}}),e.jsx(v.div,{className:"w-1.5 h-1.5 rounded-full bg-cyan-400",animate:{scale:[1,1.5,1]},transition:{duration:.8,repeat:1/0,delay:.4}})]})]})]}),e.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2 border-cyan-400 rounded-tl-sm"}),e.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-cyan-400 rounded-tr-sm"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2 border-cyan-400 rounded-bl-sm"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b-2 border-r-2 border-cyan-400 rounded-br-sm"})]})})]})},rs=({model:t,onClick:s,index:a,rotationY:i=0,modelScale:n=1,positionY:r=0,autoRotate:o=!1,label:m="",isVisible:u=!1})=>e.jsx("div",{className:"w-full h-screen relative flex items-center justify-center",children:e.jsxs(ce,{camera:{position:[0,0,6],fov:40},dpr:[1,2],gl:{antialias:!0,alpha:!0,clearColor:"#0a0a1a"},frameloop:"always",style:{position:"absolute",inset:0},children:[e.jsx("ambientLight",{intensity:.6}),e.jsx("directionalLight",{position:[5,5,5],intensity:1}),e.jsx("directionalLight",{position:[-5,-5,-5],intensity:.3,color:"#8b5cf6"}),e.jsx("pointLight",{position:[0,2,3],intensity:.8,color:"#ffffff"}),e.jsx(c.Suspense,{fallback:e.jsx(Zt,{}),children:e.jsx(ns,{model:t,onClick:s,index:a,rotationY:i,scale:n,positionY:r,autoRotate:o,label:m,isVisible:u})})]})}),os=({totalSections:t,activeSection:s,onNavigate:a})=>e.jsx("div",{className:"fixed right-8 top-1/2 transform -translate-y-1/2 z-50 flex flex-col gap-6",children:Array.from({length:t}).map((i,n)=>e.jsx(v.button,{onClick:()=>a(n),className:`relative w-4 h-4 rounded-full transition-all duration-300 ${s===n?"bg-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.8)]":"bg-white/20 hover:bg-white/40"}`,whileHover:{scale:1.3},whileTap:{scale:.9},children:n<t-1&&e.jsx("div",{className:`absolute left-1/2 w-0.5 h-10 -translate-x-1/2 ${n<s?"bg-cyan-400/50":"bg-white/10"}`,style:{top:"100%"}})},n))}),ls=({onScrollDown:t})=>e.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"absolute inset-0 bg-gradient-to-b from-purple-900/20 via-transparent to-transparent pointer-events-none"}),e.jsx(v.div,{initial:{scale:.8,opacity:0},animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-[500px] h-[500px] bg-purple-600/30 rounded-full blur-[100px]"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs(v.h1,{initial:{opacity:0,y:100,filter:"blur(20px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:1.2,ease:[.25,.46,.45,.94],scale:[1,1.05,1]},className:"text-8xl font-bold text-white tracking-wider relative",style:{textShadow:"0 0 80px rgba(168,85,247,1)"},children:["HEALIX",e.jsx(v.span,{initial:{opacity:0},animate:{opacity:[0,.8,0]},transition:{duration:.15,repeat:1/0,repeatDelay:3},className:"absolute inset-0 text-cyan-400",style:{textShadow:"0 0 80px rgba(34,211,238,1)",clipPath:"polygon(0 0, 100% 0, 100% 45%, 0 45%)",transform:"translate(-2px, 0)"},children:"HEALIX"}),e.jsx(v.span,{initial:{opacity:0},animate:{opacity:[0,.8,0]},transition:{duration:.15,repeat:1/0,repeatDelay:3.1},className:"absolute inset-0 text-purple-400",style:{textShadow:"0 0 80px rgba(168,85,247,1)",clipPath:"polygon(0 55%, 100% 55%, 100% 100%, 0 100%)",transform:"translate(2px, 0)"},children:"HEALIX"})]}),e.jsx(v.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:.8,duration:.6,ease:"easeOut"},className:"h-1 bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 mx-auto mt-2 rounded-full"})]}),e.jsx(v.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"text-2xl text-cyan-400 mt-6 font-light tracking-[0.3em] z-10",children:"Your Personal AI Arsenal"}),e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.8,duration:1},className:"absolute bottom-10 flex flex-col items-center gap-2 cursor-pointer z-10",onClick:t,children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Scroll to Explore"}),e.jsx(v.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:1.5},className:"w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center pt-2",children:e.jsx("div",{className:"w-1.5 h-3 bg-gray-400 rounded-full"})})]})]}),cs=({activeSection:t,onNavigate:s})=>{const[a,i]=c.useState(null),n=[{index:0,icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",color:"#00ffff",label:"Landing"},{index:1,icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",color:"#ef4444",label:"Dr. AI"},{index:2,icon:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z",color:"#22c55e",label:"Analyzer"},{index:3,icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"#f97316",label:"Tracker"},{index:4,icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",color:"#a855f7",label:"Medications"},{index:5,icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z",color:"#f59e0b",label:"Dashboard"}];return e.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-20 z-50 flex flex-col items-center py-6 glass-morphism-dark border-r border-white/10",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center shadow-lg shadow-red-500/30",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"H"})}),e.jsx(v.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-2 text-xs font-semibold text-red-400 tracking-wider",children:"HEALIX"})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-3",children:n.map(r=>e.jsxs("div",{className:"relative",children:[e.jsxs(v.button,{onClick:()=>s(r.index),onMouseEnter:()=>i(r.index),onMouseLeave:()=>i(null),className:`relative w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 ${t===r.index?"bg-gradient-to-br from-cyan-500/20 to-purple-500/20 border border-cyan-400/50":"hover:bg-white/5"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t===r.index&&e.jsx(v.div,{layoutId:"activeGlow",className:"absolute inset-0 rounded-xl shadow-[0_0_20px_rgba(34,211,238,0.4)]",transition:{type:"spring",stiffness:300,damping:30}}),e.jsx("svg",{className:`w-6 h-6 ${t===r.index?"text-cyan-400":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:r.icon})})]}),e.jsx(_,{children:a===r.index&&e.jsx(v.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.15},className:"absolute left-14 top-1/2 -translate-y-1/2 bg-black/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap border border-white/10",children:r.label})})]},r.index))}),e.jsx(v.button,{onMouseEnter:()=>i("emergency"),onMouseLeave:()=>i(null),className:"mt-auto w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-lg shadow-red-500/30",whileHover:{scale:1.05},whileTap:{scale:.95},animate:{boxShadow:["0_0_10px_rgba(239,68,68,0.5)","0_0_20px_rgba(239,68,68,0.8)","0_0_10px_rgba(239,68,68,0.5)"]},transition:{duration:2,repeat:1/0},children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx(_,{children:a==="emergency"&&e.jsx(v.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.15},className:"absolute left-14 top-auto bottom-20 bg-black/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap border border-white/10",children:"Emergency: 108"})}),e.jsx(v.a,{href:`mailto:${oe}`,className:"mt-3 w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",whileHover:{scale:1.05},title:oe,children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})},ds=({index:t,model:s,onClick:a,rotationY:i=0,modelScale:n=1,positionY:r=0,autoRotate:o=!1,label:m=""})=>{const u=c.useRef(null),[d,x]=c.useState(!1);c.useEffect(()=>{const y=new IntersectionObserver(([p])=>{x(p.isIntersecting)},{threshold:.4,rootMargin:"-20% 0px -20% 0px"});return u.current&&y.observe(u.current),()=>y.disconnect()},[]);const f=()=>{switch(m){case"Dr. AI":return e.jsx(v.div,{initial:{opacity:0,scale:0},animate:{opacity:d?.4:0,scale:d?1:0},transition:{duration:.8,delay:.3},className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at 50% 50%, transparent 30%, rgba(139, 92, 246, 0.2) 70%)",animation:d?"brainPulse 2s ease-in-out infinite":"none"}});case"Analyzer":return e.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[e.jsx(v.path,{initial:{pathLength:0,opacity:0},animate:{pathLength:d?1:0,opacity:d?.8:0},transition:{duration:1.5,ease:"easeInOut"},d:"M0,150 Q100,150 150,100 T300,150 T450,50 T600,150 T800,150",fill:"none",stroke:"url(#pulseGradient)",strokeWidth:"3",style:{filter:"drop-shadow(0 0 10px #22d3ee)"}}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"pulseGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),e.jsx("stop",{offset:"50%",stopColor:"#ef4444"}),e.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]})})]});case"Tracker":return e.jsxs(e.Fragment,{children:[[...Array(4)].map((y,p)=>e.jsx(v.div,{initial:{opacity:0,rotate:0},animate:{opacity:d?.3:0,rotate:d?360:0},transition:{duration:8,repeat:1/0,ease:"linear",delay:p*.2},className:"absolute pointer-events-none",style:{left:`${20+p*20}%`,top:`${20+p%2*40}%`,width:"30px",height:"30px",background:"linear-gradient(90deg, #ef4444 48%, transparent 48%, transparent 52%, #ef4444 52%)",borderRadius:"4px"}},p)),[...Array(8)].map((y,p)=>e.jsx(v.div,{initial:{opacity:0,y:"100%"},animate:{opacity:d?.6:0,y:d?"0%":"100%"},transition:{duration:2+Math.random(),repeat:1/0,delay:p*.2,ease:"easeOut"},className:"absolute pointer-events-none w-2 h-2 rounded-full bg-green-400",style:{left:`${10+Math.random()*80}%`,filter:"drop-shadow(0 0 6px #4ade80)"}},`particle-${p}`))]});case"Medications":return e.jsx(e.Fragment,{children:[...Array(6)].map((y,p)=>e.jsx(v.div,{initial:{opacity:0,y:"100%",rotate:0},animate:{opacity:d?.5:0,y:d?`${20+Math.random()*30}%`:"100%",rotate:d?360:0},transition:{duration:4+Math.random()*2,repeat:1/0,delay:p*.3,ease:"linear"},className:"absolute pointer-events-none",style:{left:`${15+p*12}%`,width:p%2===0?"16px":"8px",height:"24px",borderRadius:p%2===0?"8px":"4px",background:p%3===0?"linear-gradient(180deg, #f97316 50%, transparent 50%)":p%3===1?"linear-gradient(180deg, #22c55e 50%, transparent 50%)":"linear-gradient(180deg, #3b82f6 50%, transparent 50%)",filter:"drop-shadow(0 0 8px currentColor)"}},p))});case"Dashboard":return e.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-end justify-center gap-4 pb-20",children:[40,70,55,90,75,85,65].map((y,p)=>e.jsx(v.div,{initial:{height:0,opacity:0},animate:{height:d?y:0,opacity:d?y>80?.9:y>60?.7:.5:0},transition:{duration:.5,delay:.5+p*.1,ease:"easeOut"},className:"w-8 rounded-t-lg",style:{background:y>80?"linear-gradient(180deg, #22d3ee, #3b82f6)":y>60?"linear-gradient(180deg, #22c55e, #84cc16)":"linear-gradient(180deg, #f97316, #eab308)",filter:"drop-shadow(0 0 10px currentColor)"}},p))});default:return null}};return e.jsxs(v.section,{ref:u,initial:{opacity:0},animate:{opacity:d?1:.3},transition:{duration:.6},className:"w-full h-screen relative overflow-hidden",children:[f(),e.jsx(rs,{model:s,onClick:a,index:t,rotationY:i,modelScale:n,positionY:r,autoRotate:o,label:m,isVisible:d}),e.jsx("style",{children:`
        @keyframes brainPulse {
          0%, 100% { transform: scale(1); opacity: 0.4; }
          50% { transform: scale(1.05); opacity: 0.6; }
        }
      `})]})};function ms(){const{activeModal:t,setActiveModal:s,clearActiveModal:a,emergencyDetected:i,setEmergencyDetected:n,notifications:r,addNotification:o}=G(),[m,u]=c.useState(0),[d,x]=c.useState(!1),f=c.useRef(null);c.useEffect(()=>{if(r.length>0){const j=r[r.length-1];R.custom(e.jsx("div",{className:`p-4 rounded-xl glass-morphism-dark ${j.type==="error"?"border-red-500/50":j.type==="success"?"border-green-500/50":"border-cyan-500/50"}`,children:e.jsx("div",{className:"text-white font-medium",children:j.message})}),{duration:3e3,position:"top-right"})}},[r]);const y=c.useCallback(j=>{if(u(j),j===0)window.scrollTo({top:0,left:0,behavior:"smooth"});else{const M=document.querySelectorAll(".scroll-section");M[j]&&M[j].scrollIntoView({behavior:"smooth"})}},[]),p=()=>{const j=document.querySelectorAll(".scroll-section");j.length>1&&(j[1].scrollIntoView({behavior:"smooth"}),u(1))},E=c.useCallback(()=>{s("chat"),o({type:"info",message:"Opening Dr. AI Consultation"})},[s,o]),b=c.useCallback(()=>{s("analyzer"),o({type:"info",message:"Opening Report Analyzer"})},[s,o]),C=c.useCallback(()=>{s("tracker"),o({type:"info",message:"Opening Treatment Tracker"})},[s,o]),I=c.useCallback(()=>{s("medication"),o({type:"info",message:"Opening Medication Manager"})},[s,o]),A=c.useCallback(()=>{n(null)},[n]),k=[{type:"landing"},{model:Wt,onClick:E,rotationY:-Math.PI/2,modelScale:.5,positionY:.2,autoRotate:!1,label:"Dr. AI"},{model:Kt,onClick:b,rotationY:0,modelScale:.55,positionY:.2,autoRotate:!0,label:"Analyzer"},{model:Xt,onClick:C,rotationY:Math.PI/6,modelScale:.5,positionY:.2,autoRotate:!0,label:"Tracker"},{model:Qt,onClick:I,rotationY:0,modelScale:.45,positionY:.2,autoRotate:!0,label:"Medications"},{model:Jt,onClick:()=>x(!0),rotationY:0,modelScale:.45,positionY:.2,autoRotate:!0,label:"Dashboard"}];return c.useEffect(()=>{const j=new IntersectionObserver(M=>{M.forEach(g=>{if(g.isIntersecting){const l=parseInt(g.target.dataset.index);u(l)}})},{threshold:.5});return document.querySelectorAll(".scroll-section").forEach(M=>{j.observe(M)}),()=>j.disconnect()},[]),e.jsxs("div",{ref:f,className:"min-h-screen bg-gradient-to-b from-slate-950 via-purple-950/20 to-slate-950 overflow-x-hidden",children:[e.jsx("style",{children:`
        @keyframes glitch-shift {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-2px); }
          75% { transform: translateX(2px); }
        }
        @keyframes glitch-shift-reverse {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(2px); }
          75% { transform: translateX(-2px); }
        }
      `}),e.jsx(At,{toastOptions:{className:"",style:{background:"rgba(0, 0, 0, 0.8)",color:"#fff",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)"}}}),e.jsx("div",{className:"fixed inset-0 pointer-events-none",style:{zIndex:0},children:e.jsx(ce,{camera:{position:[0,0,40],fov:60},dpr:[1,2],gl:{antialias:!0,alpha:!0,clearColor:"transparent"},style:{position:"absolute",inset:0},children:e.jsx(is,{})})}),e.jsx(cs,{activeSection:m,onNavigate:y}),e.jsx(os,{totalSections:k.length,activeSection:m,onNavigate:y}),e.jsxs("main",{className:"relative ml-20",children:[e.jsx("div",{id:"landing",className:"scroll-section","data-index":0,children:e.jsx(ls,{onScrollDown:p})}),k.map((j,M)=>M===0?null:e.jsx("div",{className:"scroll-section","data-index":M,children:e.jsx(ds,{index:M,model:j.model,onClick:j.onClick,rotationY:j.rotationY,modelScale:j.modelScale,positionY:j.positionY,autoRotate:j.autoRotate,label:j.label})},M))]}),e.jsxs(_,{children:[t==="chat"&&e.jsx(_t,{onClose:a}),t==="analyzer"&&e.jsx(Yt,{onClose:a}),t==="tracker"&&e.jsx(Gt,{onClose:a}),t==="medication"&&e.jsx(qt,{onClose:a}),d&&e.jsx(Vt,{onClose:()=>x(!1),onNavigate:y}),i&&e.jsx(Ut,{emergency:i,onClose:A,onCancel:A})]}),e.jsx("footer",{className:"fixed bottom-0 left-20 right-0 p-4 text-center text-gray-500 text-sm glass-morphism-dark border-t border-white/5 z-40 pointer-events-auto",children:e.jsx("p",{children:"¬© 2026 HEALIX AI Healthcare Platform ‚Ä¢ Built with AI ‚Ä¢ Emergency: Call 108"})})]})}Ce.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsx(ms,{})}));
